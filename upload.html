<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,600;0,700;1,500&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
    <title>InscripChat - Sign In</title>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand navbar-light bg-light">
            <div class="container">
                <a class="navbar-brand" href="index.html">
                    <img src="assets/images/logo.png" alt="" class=" navbar-logo">
                </a>

                <div class="collapse navbar-collapse " id="navbarSupportedContent">

                    <div class="ms-auto d-flex align-items-center">
                        <div class="parent">

                            <a href="#" class="nav-link ">
                                <img src="assets/images/image 1.png" alt="">
                            </a>
                            <ul class="child">
                                <div class="up-arrow"></div>
                                <li><a href="profile-setting.html"><i class="bi bi-people me-2 f-20"></i>Profile</a></li>
                                <li><a href="sign-in.html"><i class="bi bi-box-arrow-left me-2 f-20"></i>LogOut</a></li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <div class="container h-100 ">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="sign-heading  text-center mt-4">Upload</h1>
                </div>
            </div>
            <form action="" class="row  ">

                <div class="col-lg-6 h-100 d-flex flex-column justify-content-center mt-3 order-last order-lg-first">
                    <div class="sign-content">

                        <div class="mb-4">
                            <input type="text" class="sign-input" placeholder="Title">
                        </div>
                        <div class="mb-4">
                            <textarea name="" id="" rows="4" class="sign-input w-100" placeholder="Description"></textarea>
                        </div>
                        <div class="mb-4">
                            <input type="text" class="sign-input" placeholder="Tags">
                        </div>

                        <div class="d-flex align-items-center justify-content-center flex-wrap">
                            <div class="thumbnail">
                                <img src="assets/images/image 1.png" alt="">
                            </div>
                            <div class="thumbnail">
                                <img src="assets/images/image 1.png" alt="">
                            </div>
                        </div>
                      
                        


                    </div>
                </div>
                <div class="col-lg-6 order-first order-lg-last  d-flex flex-column justify-content-center  ">

                    <div class="img-zone text-center" id="img-zone">
                        <div class="img-drop">
                            <h2 class="text-primary">Upload file</h2>

                            <span class=" btn-file d-flex align-items-center text-center justify-content-center">
                                Drag file here or <div class="text-primary"> &nbsp; browse</div><input type="file"
                                    multiple="" accept="image/*">
                            </span>
                            <p class="f-12 w-400">Supported file types: DOCX, PDF, MP4, MKV</p>
                        </div>
                    </div>
                    <div class="progress hidden">
                        <div style="width: 0%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="0"
                            role="progressbar" class="progress-bar  active">
                            <span class="sr-only progress-status">0% Complete</span>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center mt-5">
                        <button type="button" class="btn px-5 successfull-btn">Save</button>
                    </div>


                </div>

            </form>
        </div>

    </main>

    <div class="contact-icon">
        <a href="contact.html" class="no-decoration">
         <i class="bi bi-chat-dots-fill"></i>
        </a>
     </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script>
        jQuery(document).ready(function () {
            var img_zone = document.getElementById('img-zone'),
                collect = {
                    filereader: typeof FileReader != 'undefined',
                    zone: 'draggable' in document.createElement('span'),
                    formdata: !!window.FormData
                },
                acceptedTypes = {
                    'image/png': true,
                    'image/jpeg': true,
                    'image/jpg': true,
                    'image/gif': true
                };

            // Function to show messages
            function ajax_msg(status, msg) {
                var the_msg = '<div class="alert alert-' + (status ? 'success' : 'danger') + '">';
                the_msg += '<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>';
                the_msg += msg;
                the_msg += '</div>';
                $(the_msg).insertBefore(img_zone);
            }

            // Function to upload image through AJAX
            function ajax_upload(files) {
                $('.progress').removeClass('hidden');
                $('.progress-bar').css({
                    "width": "0%"
                });
                $('.progress-bar span').html('0% complete');

                var formData = new FormData();
                //formData.append('any_var', 'any value');
                for (var i = 0; i < files.length; i++) {
                    //formData.append('img_file_' + i, files[i]); 
                    formData.append('img_file[]', files[i]);
                }

                $.ajax({
                    url: "upload.php", // Change name according to your php script to handle uploading on server
                    type: 'post',
                    data: formData,
                    dataType: 'json',
                    processData: false,
                    contentType: false,
                    // error: function(request) {
                    //     ajax_msg(false, 'An error has occured while uploading photo.');
                    // },
                    success: function (json) {
                        var img_preview = $('#img-preview');
                        var col = '.col-sm-2';
                        $('.progress').addClass('hidden');
                        var photos = $('<div class="photos"></div>');
                        $(photos).html(json.img);
                        var lt = $(col, photos).length;
                        $('col', photos).hide();
                        $(img_preview).prepend(photos.html());
                        $(col + ':lt(' + lt + ')', img_preview).fadeIn(2000);
                        if (json.error != '')
                            ajax_msg(false, json.error);
                    },
                    progress: function (e) {
                        if (e.lengthComputable) {
                            var pct = (e.loaded / e.total) * 100;
                            $('.progress-bar').css({
                                "width": pct + "%"
                            });
                            $('.progress-bar span').html(pct + '% complete');
                        } else {
                            console.warn('Content Length not reported!');
                        }
                    }
                });
            }

            // Call AJAX upload function on drag and drop event
            function dragHandle(element) {
                element.ondragover = function () {
                    return false;
                };
                element.ondragend = function () {
                    return false;
                };
                element.ondrop = function (e) {
                    e.preventDefault();
                    ajax_upload(e.dataTransfer.files);
                }
            }

            if (collect.zone) {
                dragHandle(img_zone);
            } else {
                alert("Drag & Drop isn't supported, use Open File Browser to upload photos.");
            }

            // Call AJAX upload function on image selection using file browser button
            $(document).on('change', '.btn-file :file', function () {
                ajax_upload(this.files);
            });

            // File upload progress event listener
            (function ($, window, undefined) {
                var hasOnProgress = ("onprogress" in $.ajaxSettings.xhr());

                if (!hasOnProgress) {
                    return;
                }

                var oldXHR = $.ajaxSettings.xhr;
                $.ajaxSettings.xhr = function () {
                    var xhr = oldXHR();
                    if (xhr instanceof window.XMLHttpRequest) {
                        xhr.addEventListener('progress', this.progress, false);
                    }

                    if (xhr.upload) {
                        xhr.upload.addEventListener('progress', this.progress, false);
                    }

                    return xhr;
                };
            })(jQuery, window);
        });
    </script>
    <!-- ------------------------------------is site sy copy kia drag drop PHp bhi hy daikh lena -->
    <!-- https://fellowtuts.com/php/drag-n-drop-multiple-ajax-images-upload-with-progress-bar/ -->




</body>

</html>